# 更新数据节点

数据节点是集成&自动化的核心功能，用于操作应用产生的主要实现对数据的不同执行效果。本文介绍使用数据更新节点。
## 能力介绍​

数据更新数据节点支持**直接更新表单数据**和**按节点更新表单数据**两种更新模式：**直接更新表单数据**：根据设定的匹配规则，对**普通表单**的主表或子表进行更新（更新数据的来源表可以是普通表单也可以流程表单）【重点在直接更新】**按节点更新表单数据**：更新获取单条/获取多条数据节点的数据【重点在先获取后更新】
集成自动化和简易流程中均支持该节点。

## 使用场景​

对于直接更新表单数据，存在单次更新的上限，但是可以参考业务规则的配置思路，实现子表对子表的更新。按节点更新表单数据和原有的更新节点能力保持一致，可以对一批筛选的特定数据进行更新。
下面是直接更新表单数据的案例：
**场景：针对应收和应收实收的管理**

## 操作步骤​

### 直接更新表单数据​

登录宜搭工作台，单击**我的应用**。选择需要的应用，进入**应用设置**页。单击**集成&自动化**，选择已经创建的集成自动化流，单击**编辑**。

将光标移动至审批节点的连接线位置会弹出**+**按钮，单击**+**选择**更新数据**节点。在右侧配置栏，选择直接更新表单数据，单击选择更新的目标表类型。
主表：选择应用内的表单，
不支持更新子表数据。子表：选择包���子表单的主表，然后选择需要更新的子表。

配置数据更新的匹配规则。如果更新主表，则仅需配置主条件。如果更新子表，需配置主条件和子条件。匹配条件的左侧是目标表字段，右侧是来源表。
**说明**：支持匹配的组件有「单行文本」、「多行文本」、「单选」、「下拉单选」、「日期」、「流水号」，具体对应关系见组件规则详情，其他组件暂时不支持。符合主条件的数据，匹配条数上限为100条，超出100条的数据将不回被更新

更新主表
更新子表

配置数据更新的更新规则。在左侧选择需要更新的目标表字段。在右侧配置匹配更新的规则。
**说明：**只有同类型的组件才能互相赋值，支持「单行文本」、「多行文本」、「数值」、「单选」、「下拉单选」、「复选」、「下拉复选」、「级联选择」、「日期」、「日期区间」、「图片上传」、「附件」、「成员」、「地址」等组件，具体对应关系见更新规则详情，其他组件暂时不支持。直接更新主表单的数据上限为100条、子表单为50条，超出会报错导致提交失败，
不支持排序，按照匹配的先后顺序更新。

配置未匹配到数据时的规则，可选**跳过当前节点**或**新增一条数据**。

单击**保存**完成配置。
### 按节点更新表单数据​

如果你选择的是按节点更新表单数据，那么你需要在当前节点之前先获取数据，详情可参考获取单条数据或获取多条数据。登录宜搭工作台，单击**我的应用**。选择需要的应用，进入**应用设置**页。单击**集成&自动化**，选择已经创建的集成自动化流，单击**编辑**。将光标移动至审批节点的连接线位置会弹出**+**按钮，单击**+**选择**更新数据**节点。在右侧配置栏，选择**按节点更新表单数据**，选择需要更新的数据。

选择更新规则，在左侧选择需要更新的目标表字段，在右侧配置匹配更新的规则。
说明：可更新的数据条数取决于获取到的条数。

配置未匹配到数据时的规则，可选**跳过当前节点**或**新增一条数据**。

单击**保存**完成配置。
## 配置边界​

### 匹配规则详情​

|
**支持用于匹配判断的组件**
**类型**
**操作符**
**可判断字段类型**
|
单行文本
文本
等于 
不等于
单行文本
多行文本
数值
流水号
|
多行文本
文本
等于
不等于
单行文本
多行文本
数值
流水号
|
单选
文本
等于
不等于
单行文本
多行文本
数值
流水号
单选
下拉单选
|
下拉单选
文本
等于
不等于
单行文本
多行文本
数值
流水号
单选
下拉单选
|
日期
时间戳
等于
不等于
早于
晚于
不早于
不晚于
日期
|
数值
数字
等于
不等于
大于
大于等于
小于
小于等于
单行文本
多行文本
数值
流水号
|
流水号
文本
等于
不等于
单行文本
多行文本
数值
流水号

### 更新规则详情​

|
**目标组件（被赋值）**
**来源组件/公式**
|
单行文本
单行文本
|
多行文本
多行文本
|
数值
单行文本
多行文本
数值
|
单选
单选
下拉单选
|
下拉单选
单选
下拉单选
|
复选
复选
|
下拉复选
下拉复选
|
级联选择
级联选择
|
日期
日期
|
日期区间
日期区间
|
图片上传
图片上传
|
附件
附件
|
成员
成员
|
地址
地址

⚠️注意：人工审批时才会产生：最近一次审批人、最近一次审批时间、最近一次审批意见三个字段。系统自动执行时则不会产生这三个字段。
## 常见问题​

**Q：更新规则左右两侧的参数如何理解？**

回答：左侧为需要更新的目标表字段，右侧为匹配的源字段。