# 数据服务

|
**能力**
**免费版**
**轻享版**
**专业版**
**专属-BI版**
|
数据服务
不支持
不支持
支持
支持

## 什么是数据服务？​

数据服务是对数据集的加工处理，可选取特定字段并转为API接口服务，目前仅支持在集成自动化/流程设计器的卡片节点内消费。
**特别说明：**当存在多个独立的数据指标时，需要维护独立的数据服务，在集成自动化内单独消费数据服务仅应用主管理员、数据管理员可查看及操作。权限说明：数据工厂>数据服务——仅应用管理员和数据管理员可新建数据服务的使用权限： 应用管理员和数据管理员可以开发配置数据服务。 调用数据服务时，以应用主管理员第一个人进行调用消费范围：在集成自动化/简易版流程设计器内获取单条/多条数据节点，当数据获取方式为从数据工厂>数据服务中获取，可获得数据服务定义好的数据。
## 定义数据服务​

进入**数据工厂 > 数据服务，**单击**新建数据服务**按钮**，**打开数据服务页面**。**

参考以下操作进行服务设置。选择数据集，设置数据服务名称。配置请求字段。
添加该数据集内的若干字段，如需在集成自动化等功能消费该字段，请勾选**是否返回**，另外可根据不同字段的数据类型配置该字段的统计方式（如计数、去重计数、最大、最小、平均、求和），同时支持创建公式字段不同字段的数据类型映射不同的聚合函数，同时支持自定义公式字段公式面板直接调用现有数据引擎的公式面板，支持casewhen，count，sum等函数，解决酷看板通用数据处理场景

**类型**
**函数名称**
**文本**
不聚合、计数（是否去重）
**日期**
不聚合、计数（是否去重）、最大、最小
**数字**
不聚合、计数（是否去重）、最大、最小、平均、求和
**array（如成员/部门组件）**

不支持聚合函数，只有不聚合选项。

配置数据过滤。
可针对当前数据服务所返回的数据进行过滤筛选。
过滤条件支持按**固定值**、**自定义变量**、**系统变量**进行过滤。

配置排序规则。
可针对当前数据服务所返回的数据进行排序。

单击**确定并预览**，查看配置是否正确。

## 获取数据服务​

功能入口：集成自动化 > 简易版流程设计器 > 获取多条数据节点 > 获取单条数据节点 > 从数据工厂数据 > 服务数据。
在集成自动化新增获取多条数据节点，当数据获取方式为从**数据工厂**> **数据服务**中获取，可获得数据服务统计计算好的数据。

## 消费数据服务​

**功能入口：集成自动化 / 简易版流程设计器 发送卡片节点/更新卡片节点 将获取数据服务返回的数据绑定到卡片数据源上**进入卡片设计器，选择循环指标卡，定义数据源变量（对象数组）及配置mock数据，同时在组件属性板绑定指标值和指标名称。

集成自动化节点内新增发送卡片节点，选择定义好的酷数据卡片，卡片数据源的值设为字段，字段来源可直接消费上一个节点“从数据服务”中获取到的数据